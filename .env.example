# ===========================================
# PWST Environment Configuration
# ===========================================
# Copy this file to .env and fill in values
# cp .env.example .env

# -------------------------------------------
# PostgreSQL Database
# -------------------------------------------
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=pwst
POSTGRES_USER=pwst
POSTGRES_PASSWORD=pwst_local_dev_password_change_me

# Connection string (constructed from above)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -------------------------------------------
# Redis (Task Queue & Cache)
# -------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

# -------------------------------------------
# External APIs
# -------------------------------------------

# EIA (Energy Information Administration)
# Get free key at: https://www.eia.gov/opendata/register.php
# Optional: increases rate limit from 30/hr to unlimited
EIA_API_KEY=

# USGS (No key required - unlimited access)
# Endpoints used:
#   - https://waterservices.usgs.gov/nwis/
#   - https://waterservices.usgs.gov/nwis/gwlevels/

# -------------------------------------------
# Mapbox (Map Tiles)
# -------------------------------------------
# Get free token at: https://account.mapbox.com/access-tokens/
# Free tier: 50,000 map loads/month
MAPBOX_ACCESS_TOKEN=pk.your_mapbox_token_here

# Map style (dark mode for terminal aesthetic)
MAPBOX_STYLE=mapbox://styles/mapbox/dark-v11

# -------------------------------------------
# Application Settings
# -------------------------------------------

# Data refresh interval (minutes)
REFRESH_INTERVAL_MINUTES=60

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# API Server
API_HOST=0.0.0.0
API_PORT=8000

# Streamlit UI
STREAMLIT_PORT=8501

# -------------------------------------------
# MVP Region Configuration
# -------------------------------------------
# Texas-focused MVP
DEFAULT_REGION=US-TX
DEFAULT_GRID_ZONE=ERCOT

# ERCOT bounding box (for spatial queries)
TEXAS_BBOX_WEST=-106.65
TEXAS_BBOX_EAST=-93.51
TEXAS_BBOX_SOUTH=25.84
TEXAS_BBOX_NORTH=36.50

# -------------------------------------------
# Anomaly Detection Thresholds
# -------------------------------------------
ANOMALY_THRESHOLD_SIGMA=2.0
CRITICAL_THRESHOLD_SIGMA=3.0
BASELINE_WINDOW_DAYS=30

# -------------------------------------------
# Development Settings
# -------------------------------------------
DEBUG=false
ENVIRONMENT=development
